---
title: "KeyBall44 トラックボールが反応しないときの対処法"
emoji: "⛳"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["自作キーボード", "KeyBall", "KeyBall44"]
published: true
---

![](/images/20231029_keyball44_IMG_20231028_223841.webp)


自作キーボードに関してはCorne Cherryと Corne Cherry v3の2台を組んだ経験があるので、なんとかなるはず。と思って購入したKeyBall44ですが、どれだけがんばってもトラックボールが反応しない。いつか反応するようになった時の事を想定して、今はボールは飾りのまま、ちょっとキーが増えたCorneみたいな感じで使っています。

以下は、トラックボールを動かすために GitHubのDiscussionを眺めて、書かれていた対処法をまとめたものです。自分はこれを全部やってもだめでした。

この記事は、トラックボールが反応するようになるまで更新し続けます。

# トラックボールが反応しない時の対処法

・トラックボールは PWM3360 という基板で動いていて、おそらくSPI通信している。ので、ちょっとでも接触不良だと動かないはず。
・動いているかどうかの確認はもしかするとRESETスイッチじゃなくて電源抜き差しじゃないとだめかもしれない。

## うっかりミスチェック

以下が最初に確認すべきポイント

>うっかりミスとしてありがちなのが、下記ですので順番にご確認ください。
>１．光学センサーICの保護シール２枚のはがし忘れ
>２．光学センサーICの方向が逆
>３．光学センサーICやProMicroの挿入位置がひとつズレている
>４．ICやProMicroのはんだ付け不良
>５．ジャンパ８か所のはんだ不良（見た目では問題なくてもテンプラ不良している可能性があるので、もう一度、熱したはんだごてを当ててみて確認

また、

> 正常に動作していてもセンサーICのレンズ部は肉眼では光って見えません

ということなので、ボールが正常に動作しているか確認するのは結構難しい…

https://github.com/Yowkees/keyball/discussions/51

## コンスルーの曲がりチェック

> L字7Pコンスルーのピンの変形をご確認ください。少々の変形でも導通不良となる場合があります。

リンク先の画像を見てもらうとわかるようにちょっと曲がっていても駄目だったりする模様

https://github.com/Yowkees/keyball/discussions/388

## コンスルーが導通していない説

ProMicroのポートとコンスルーの導通を確認して、これが通ってない場合はNG。

ProMicroとコンスルーの

・SCL
・MOSI
・NCS
・MISO

をテスターで導通チェックする。0Ωじゃない場合はコンスルーかProMicroに問題がある。

自分はついでにトラックボール基板を外してUSBつないでコンスルーセンターの5Vと両サイドのGNDの電圧を測ってつながっているか確認した。（自分のは4.5Vくらいだった）

https://github.com/Yowkees/keyball/discussions/276

## ProMicroの導通問題(ピンずれ・半田不良)

ProMicroを入れ替えたら直るケース、原因がピンずれによる特定ピンの接触不良だった。

https://github.com/Yowkees/keyball/discussions/274#discussion-5400367

ProMicroの半田不良も同じ事になるようだが、自分は3個くらい交換して全部同じだったので関係ないかも

https://github.com/Yowkees/keyball/discussions/254

## トラックボール基板のはんだ不良

トラックボール基板にPWM3360をつけるときのはんだに不良がある可能性があります。レンズを外してはんだづけがちゃんとできているか確認してみるといいかもしれません。

ただしここは熱に弱そうなので、はんだをモリモリにする事を意識しすぎると壊れる可能性があります。

## センサーぶっこわれ説

手をつくしてもだめな場合はセンサーがぶっこわれているパターンもあるらしい。(自分の場合はボトムプレートをつけたり外したりしていると一瞬だけ反応する事があったのでまだ壊れていないと信じたい…。)
ProMicroみたいにもう一個あったら差し替えて原因の絞り込みができるのになぁ…。

https://github.com/Yowkees/keyball/discussions/388

## PCBにパターンの剥がれがないか

自分の基板を見ていて気がついたが、PCBのパターンが剥がれてしまっている事が原因の可能性がある。

![](/images/20231029_183447.webp)

上記の画像の場合、TRRSジャック周辺の3箇所にパターンの剥がれらしきものが見える。左の２つはGNDっぽいのでおそらく問題はないが、
右側のパターンが導通していない場合、左手親指の一番外側が動かない。
が、普通に動くんですよねー。

徹底的に確認したのにうまく動かない場合、見えないところでパターンが切れてしまっている可能性がありそうです。

# できるだけバラして組み立て直す
はんだづけ以外の部分を全部バラして組み立て直す。キートップをすべてはずして、ミドルプレート、ボトムプレートを外したあと、ミドルプレートがきつきつなのでちょっとヤスってみたり、動作確認などして再び組み立てる。

これでなぜかトラックボールが反応するようになりました。

ただし今度はTRRSケーブルで接続したサブのほうが反応しなくなりました。

# TRRSケーブルを接続してもサブのほうが反応しない

## 導通確認
TRRSケーブルは4線で、VCC、GND、DATA、P1を伝達している。ので、テスターを使って、接続先のケーブルのさきっぽと、メインのProMicro、基板で導通がとれているかを確認する。

![](/images/20231029_trrs_circuit.webp)


# ジャンパブリッジのはんだ付け方法

自分は特に苦労しなかったですが、以下のサイトを参考にすると良さそうです。動画つきで非常にわかりやすいです。

https://note.com/yinouet1001/n/nc129c6914702






